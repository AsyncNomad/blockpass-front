{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_priceWei",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_durationSeconds",
          "type": "uint256"
        },
        {
          "internalType": "uint256[]",
          "name": "_thresholds",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "_percents",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "bankrupt",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "calculateRefundAmount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "declareBankruptcy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "declareBankruptcyAndRefund",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "durationSeconds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getSubscription",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "startAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "endAt",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "refunded",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "priceWei",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "purchase",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "refund",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "refundPercents",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "refundThresholds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "subscriptions",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "startAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "endAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "pricePaid",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "refunded",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561000f575f5ffd5b5060405161187438038061187483398181016040528101906100319190610346565b5f8411610073576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161006a9061043c565b60405180910390fd5b5f83116100b5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100ac906104a4565b60405180910390fd5b80518251146100f9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100f09061050c565b60405180910390fd5b5f82511161013c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161013390610574565b60405180910390fd5b335f5f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555083600181905550826002819055508160049081610198919061075b565b5080600590816101a8919061075b565b50505050506107df565b5f604051905090565b5f5ffd5b5f5ffd5b5f819050919050565b6101d5816101c3565b81146101df575f5ffd5b50565b5f815190506101f0816101cc565b92915050565b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b610240826101fa565b810181811067ffffffffffffffff8211171561025f5761025e61020a565b5b80604052505050565b5f6102716101b2565b905061027d8282610237565b919050565b5f67ffffffffffffffff82111561029c5761029b61020a565b5b602082029050602081019050919050565b5f5ffd5b5f6102c36102be84610282565b610268565b905080838252602082019050602084028301858111156102e6576102e56102ad565b5b835b8181101561030f57806102fb88826101e2565b8452602084019350506020810190506102e8565b5050509392505050565b5f82601f83011261032d5761032c6101f6565b5b815161033d8482602086016102b1565b91505092915050565b5f5f5f5f6080858703121561035e5761035d6101bb565b5b5f61036b878288016101e2565b945050602061037c878288016101e2565b935050604085015167ffffffffffffffff81111561039d5761039c6101bf565b5b6103a987828801610319565b925050606085015167ffffffffffffffff8111156103ca576103c96101bf565b5b6103d687828801610319565b91505092959194509250565b5f82825260208201905092915050565b7f70726963652072657175697265640000000000000000000000000000000000005f82015250565b5f610426600e836103e2565b9150610431826103f2565b602082019050919050565b5f6020820190508181035f8301526104538161041a565b9050919050565b7f6475726174696f6e2072657175697265640000000000000000000000000000005f82015250565b5f61048e6011836103e2565b91506104998261045a565b602082019050919050565b5f6020820190508181035f8301526104bb81610482565b9050919050565b7f72756c65206c656e677468206d69736d617463680000000000000000000000005f82015250565b5f6104f66014836103e2565b9150610501826104c2565b602082019050919050565b5f6020820190508181035f830152610523816104ea565b9050919050565b7f72756c65732072657175697265640000000000000000000000000000000000005f82015250565b5f61055e600e836103e2565b91506105698261052a565b602082019050919050565b5f6020820190508181035f83015261058b81610552565b9050919050565b5f81549050919050565b5f8190506001806001038301049050919050565b5f819050815f5260205f209050919050565b5f82821b905092915050565b5f600883026105fd7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826105c2565b61060786836105c2565b95508019841693508086168417925050509392505050565b5f819050919050565b5f61064261063d610638846101c3565b61061f565b6101c3565b9050919050565b5f819050919050565b61065b83610628565b61066f61066782610649565b8484546105ce565b825550505050565b5f5f905090565b610686610677565b610691818484610652565b505050565b5f5b828110156106b7576106ac5f82840161067e565b600181019050610698565b505050565b818310156106f3576106cd8261059c565b6106d68461059c565b6106df836105b0565b8181016106ee83850382610696565b505050505b505050565b680100000000000000008211156107125761071161020a565b5b61071b81610592565b8282556107298382846106bc565b505050565b5f81519050919050565b5f61074382516101c3565b80915050919050565b5f819050602082019050919050565b6107648261072e565b67ffffffffffffffff81111561077d5761077c61020a565b5b61078781836106f8565b6107908361074c565b610799836105b0565b600183045f5b818110156107d6575f6107b185610738565b6107ba81610649565b809250602087019650505080828501555060018101905061079f565b50505050505050565b611088806107ec5f395ff3fe6080604052600436106100c1575f3560e01c80639acba2af1161007e578063b70c65d311610058578063b70c65d31461021c578063b7ec208614610258578063e3d585e014610282578063f046395a146102ac576100c1565b80639acba2af1461017a578063a5701ad6146101a4578063b5b082f2146101e0576100c1565b80630b2025fe146100c55780630cbebc24146100db578063590e1ae31461011a57806364edfbf014610130578063883a431b1461013a5780638da5cb5b14610150575b5f5ffd5b3480156100d0575f5ffd5b506100d96102ec565b005b3480156100e6575f5ffd5b5061010160048036038101906100fc9190610afb565b610399565b6040516101119493929190610b58565b60405180910390f35b348015610125575f5ffd5b5061012e61045d565b005b6101386104f9565b005b348015610145575f5ffd5b5061014e61068c565b005b34801561015b575f5ffd5b50610164610742565b6040516101719190610baa565b60405180910390f35b348015610185575f5ffd5b5061018e610766565b60405161019b9190610bc3565b60405180910390f35b3480156101af575f5ffd5b506101ca60048036038101906101c59190610c06565b61076c565b6040516101d79190610bc3565b60405180910390f35b3480156101eb575f5ffd5b5061020660048036038101906102019190610afb565b61078c565b6040516102139190610bc3565b60405180910390f35b348015610227575f5ffd5b50610242600480360381019061023d9190610c06565b6108df565b60405161024f9190610bc3565b60405180910390f35b348015610263575f5ffd5b5061026c6108ff565b6040516102799190610bc3565b60405180910390f35b34801561028d575f5ffd5b50610296610905565b6040516102a39190610c31565b60405180910390f35b3480156102b7575f5ffd5b506102d260048036038101906102cd9190610afb565b610917565b6040516102e3959493929190610c4a565b60405180910390f35b5f60065f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f209050806003015f9054906101000a900460ff1661037c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161037390610cf5565b60405180910390fd5b600160035f6101000a81548160ff02191690831515021790555050565b5f5f5f5f5f60065f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206040518060a00160405290815f82015481526020016001820154815260200160028201548152602001600382015f9054906101000a900460ff161515151581526020016003820160019054906101000a900460ff1615151515815250509050805f01518160200151826060015183608001519450945094509450509193509193565b5f60065f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f209050806003015f9054906101000a900460ff166104ed576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104e490610cf5565b60405180910390fd5b6104f633610962565b50565b60035f9054906101000a900460ff1615610548576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161053f90610d5d565b60405180910390fd5b600154341461058c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161058390610dc5565b60405180910390fd5b5f60065f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f209050806003015f9054906101000a900460ff161561062a578060010154421015610629576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161062090610e2d565b60405180910390fd5b5b42815f0181905550600254426106409190610e78565b81600101819055503481600201819055506001816003015f6101000a81548160ff0219169083151502179055505f8160030160016101000a81548160ff02191690831515021790555050565b5f60065f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f209050806003015f9054906101000a900460ff1661071c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161071390610cf5565b60405180910390fd5b600160035f6101000a81548160ff02191690831515021790555061073f33610962565b50565b5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60025481565b6004818154811061077b575f80fd5b905f5260205f20015f915090505481565b5f5f60065f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206040518060a00160405290815f82015481526020016001820154815260200160028201548152602001600382015f9054906101000a900460ff161515151581526020016003820160019054906101000a900460ff1615151515815250509050806060015161083c575f9150506108da565b5f815f01514261084c9190610eab565b90505f5f90505b6004805490508110156108d3576004818154811061087457610873610ede565b5b905f5260205f2001548210156108c65760646005828154811061089a57610899610ede565b5b905f5260205f20015484604001516108b29190610f0b565b6108bc9190610f79565b93505050506108da565b8080600101915050610853565b505f925050505b919050565b600581815481106108ee575f80fd5b905f5260205f20015f915090505481565b60015481565b60035f9054906101000a900460ff1681565b6006602052805f5260405f205f91509050805f015490806001015490806002015490806003015f9054906101000a900460ff16908060030160019054906101000a900460ff16905085565b5f60065f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2090505f6109ac8361078c565b90505f826003015f6101000a81548160ff02191690831515021790555060018260030160016101000a81548160ff0219169083151502179055505f811115610a98575f8373ffffffffffffffffffffffffffffffffffffffff1682604051610a1390610fd6565b5f6040518083038185875af1925050503d805f8114610a4d576040519150601f19603f3d011682016040523d82523d5f602084013e610a52565b606091505b5050905080610a96576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a8d90611034565b60405180910390fd5b505b505050565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610aca82610aa1565b9050919050565b610ada81610ac0565b8114610ae4575f5ffd5b50565b5f81359050610af581610ad1565b92915050565b5f60208284031215610b1057610b0f610a9d565b5b5f610b1d84828501610ae7565b91505092915050565b5f819050919050565b610b3881610b26565b82525050565b5f8115159050919050565b610b5281610b3e565b82525050565b5f608082019050610b6b5f830187610b2f565b610b786020830186610b2f565b610b856040830185610b49565b610b926060830184610b49565b95945050505050565b610ba481610ac0565b82525050565b5f602082019050610bbd5f830184610b9b565b92915050565b5f602082019050610bd65f830184610b2f565b92915050565b610be581610b26565b8114610bef575f5ffd5b50565b5f81359050610c0081610bdc565b92915050565b5f60208284031215610c1b57610c1a610a9d565b5b5f610c2884828501610bf2565b91505092915050565b5f602082019050610c445f830184610b49565b92915050565b5f60a082019050610c5d5f830188610b2f565b610c6a6020830187610b2f565b610c776040830186610b2f565b610c846060830185610b49565b610c916080830184610b49565b9695505050505050565b5f82825260208201905092915050565b7f6e6f2061637469766520706173730000000000000000000000000000000000005f82015250565b5f610cdf600e83610c9b565b9150610cea82610cab565b602082019050919050565b5f6020820190508181035f830152610d0c81610cd3565b9050919050565b7f62616e6b727570740000000000000000000000000000000000000000000000005f82015250565b5f610d47600883610c9b565b9150610d5282610d13565b602082019050919050565b5f6020820190508181035f830152610d7481610d3b565b9050919050565b7f696e76616c6964207072696365000000000000000000000000000000000000005f82015250565b5f610daf600d83610c9b565b9150610dba82610d7b565b602082019050919050565b5f6020820190508181035f830152610ddc81610da3565b9050919050565b7f616c7265616479206163746976650000000000000000000000000000000000005f82015250565b5f610e17600e83610c9b565b9150610e2282610de3565b602082019050919050565b5f6020820190508181035f830152610e4481610e0b565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610e8282610b26565b9150610e8d83610b26565b9250828201905080821115610ea557610ea4610e4b565b5b92915050565b5f610eb582610b26565b9150610ec083610b26565b9250828203905081811115610ed857610ed7610e4b565b5b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f610f1582610b26565b9150610f2083610b26565b9250828202610f2e81610b26565b91508282048414831517610f4557610f44610e4b565b5b5092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f610f8382610b26565b9150610f8e83610b26565b925082610f9e57610f9d610f4c565b5b828204905092915050565b5f81905092915050565b50565b5f610fc15f83610fa9565b9150610fcc82610fb3565b5f82019050919050565b5f610fe082610fb6565b9150819050919050565b7f7472616e73666572206661696c656400000000000000000000000000000000005f82015250565b5f61101e600f83610c9b565b915061102982610fea565b602082019050919050565b5f6020820190508181035f83015261104b81611012565b905091905056fea264697066735822122020e88d8bc0ee9d8f45fb72c085d0b1324bc8812f5767e7ae3d611bf3ab4b266564736f6c63430008210033"
}